@model IEnumerable<Application.DTO.ProfileModule.ProfileDTO>

@{
    ViewBag.Title = "Index";
    var data = Newtonsoft.Json.JsonConvert.SerializeObject(Model);
}

<h2>Index</h2>

<h1>This is the index of person page</h1>

    <div id="myApp" ng-app="app" ng-controller="PersonIndexCtrl">
        @*<p>
            Hello {{name}}!
        </p>*@
        @*<div>*@
        <div style="width: 500px;">
            <table>
                <tr>
                    <th>Actions</th>
                    <th>PersonID</th>
                    <th style="width: 100px;">FirstName</th>
                    <th style="width: 100px;">LastName</th>
                    @*<th style="width: 100px">{{Name}}</th>*@
                    <th>FullName</th>
                </tr>

                <tr ng-repeat="person in people | orderBy:'PersonID':false">
                    <td> 
                        <button ng-click="deletePerson(person)">Delete</button>
                    </td>
                    <td>{{person.ProfileId}}</td>
                    <td>
                        {{person.FirstName}}
                        @*<div class="btn-toolbar" ng-show="person.editMode == null || person.editMode == false">
                            <div class="btn-group">
                                <i class="btn icon-edit" ng-click="toggleEditMode(person)"></i>
                                <i class="btn icon-trash" ng-click="deletePerson(person)"></i>
                            </div>
                        </div>
                        <div class="btn-toolbar" ng-show="person.editMode == true">
                            <div class="btn-group">
                                <i class="btn icon-save" ng-click="updatePerson(person)"></i>
                                <i class="btn icon-remove" ng-click="toggleEditMode(person)"></i>
                            </div>
                        </div>*@
                    </td>
                    <td>
                        {{person.LastName}}
                    </td>
                    <td>{{person.FirstName}} {{person.LastName}}</td>
                    @*<td>{{person.Id}}</td>*@
                    @*<td>
                        <span ng-show="person.editMode == null || person.editMode == false">{{person.Name}}</span>
                        <input ng-model="person.Name" ng-show="person.editMode == true" />
                    </td>*@
                </tr>

            </table>
        </div>
    </div>
    @*
    <div ng-controller="PersonIndexCtrl" ng-cloak>
        <div style="width: 500px;">
            <table class="table table-striped table-bordered table-condensed table-hover">
                <tr>
                    <th style="width: 100px;">
                        <div class="btn-toolbar"><i class="btn icon-plus" ng-click="toggleAddMode()"></i></div>
                    </th>
                    <th style="width: 50px;">Id</th>
                    <th>Name</th>
                </tr>
                <tr ng-show="addMode">
                    <td>
                        <div class="btn-toolbar">
                            <div class="btn-group">
                                <i class="btn icon-save" ng-click="addPerson()"></i>
                                <i class="btn icon-remove" ng-click="toggleAddMode()"></i>
                            </div>
                        </div>
                    </td>
                    <td></td>
                    <td>
                        <input ng-model="person.Name" /></td>
                </tr>
                <tr ng-repeat="person in people | orderBy:'Id':true">
                    <td>
                        <div class="btn-toolbar" ng-show="person.editMode == null || person.editMode == false">
                            <div class="btn-group">
                                <i class="btn icon-edit" ng-click="toggleEditMode(person)"></i>
                                <i class="btn icon-trash" ng-click="deletePerson(person)"></i>
                            </div>
                        </div>
                        <div class="btn-toolbar" ng-show="person.editMode == true">
                            <div class="btn-group">
                                <i class="btn icon-save" ng-click="updatePerson(person)"></i>
                                <i class="btn icon-remove" ng-click="toggleEditMode(person)"></i>
                            </div>
                        </div>
                    </td>
                    <td>{{person.Id}}</td>
                    <td>
                        <span ng-show="person.editMode == null || person.editMode == false">{{person.Name}}</span>
                        <input ng-model="person.Name" ng-show="person.editMode == true" />
                    </td>
                </tr>
            </table>
        </div>
    </div>*@

@section scripts{
    <script src="@Url.Content("~/Scripts/Modules/ViewModels/Person.js")" type="text/javascript"></script>
    <script type="text/javascript">
        var options = {
            viewModel: eval(@Html.Raw(data))
        };
        PersonViewModel(options);
    </script>

    @*<script type="text/javascript">
        head.js("@Url.Content("~/Scripts/Modules/ViewModels/Person.js")", function () {

            angular.bootstrap(document, ['app']);
            var options = eval(@Html.Raw(data));
            PersonViewModel(options);
        });
    </script>*@
    
}
